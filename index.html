<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>Clasificación de Cráteres</title>
    <script src="https://cdn.jsdelivr.net/npm/@tensorflow/tfjs"></script>
    <script src="main.js"></script>
    <link rel="manifest" href="manifest.json" />
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <header>
        <h1>Clasificaci&oacute;n de Cr&aacute;teres</h1>
        <div class="menu">
        <ul class="menu-lista">
            <li><a href="Tycho.html">Tycho</a></li>
            <li><a href="Copernico.html">Copernico</a></li>
            <li><a href="Eratostenes.html">Eratostenes</a></li>
            <li><a href="Timocharis.html">Timocharis</a></li>
            <li><a href="Arquimedes.html">Arquimedes</a></li>
            <li><a href="Plato.html">Plato</a></li>
        </ul>
        </div>
        <button id="install-button" style="display: block;">Install My PWA</button>  
    </header>
    <main>
        <section id="upload">
            <h2>Sube tu foto del cr&aacute;ter</h2>
            <div id="classification">
                <input type="file" id="imageInput" accept="image/*">
                <button id="classifyButton">Clasificar</button>
            </div>
        </section>

        <section id="image">
            <img width="800px" src="/imagenes/Crateres.jpeg" alt="Ubicación de los crateres usados en el programa">
        </section>

        <section id="results">
            <h2>Resultado</h2>
            <p id="text-result"><span id="result"></span></p>
            <img id="preview">
            <p id="loadingMessage"></p>
        </section>
    </main>

    <script>
        if ("serviceWorker" in navigator) {
            navigator.serviceWorker.register("/service-worker.js")
                .then(() => console.log("Service Worker registrado con éxito"))
                .catch(error => console.log("Error al registrar el Service Worker: ", error));
        }

        if ('beforeinstallprompt' in window) {
            window.addEventListener('beforeinstallprompt', event => {
                event.preventDefault();
                
                const installButton = document.getElementById('install-button');
                installButton.style.display = 'block';

                installButton.addEventListener('click', () => {
                    event.prompt();
                    event.userChoice.then(choiceResult => {
                        if (choiceResult.outcome === 'accepted') {
                            console.log('Usuario aceptó la instalación');
                        } else {
                            console.log('Usuario rechazó la instalación');
                        }
                        installButton.style.display = 'none';
                    });
                });
            });
        }
    </script> 
</body>
</html>

